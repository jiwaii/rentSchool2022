<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="templates/mainPage.xhtml">
   <ui:define name="content">

      <h:form>
            <div class="form-group">
               <label for="inputLogin">Login</label>
               <h:inputText type="text" class="form-control" id="inputLogin"
                            value="#{userBean.newAccount.login}"/>
            </div>
            <div class="form-group">
               <label for="inputPassword1">Password</label>
               <h:inputText type="password" class="form-control" id="inputPassword1"
                            value="#{userBean.newAccount.password}"/>
            </div>
          <h:inputText id="inputSearchUser" value="#{userBean.userSearchText}" styleClass="form-control">
              <f:ajax event="keyup"
                      render="userRadioTD"
                      listener="#{userBean.searchUserBar}"/>
          </h:inputText>
          <br/>
          <p:dataTable id="userRadioTD" value="#{userBean.usersList}" var="user"
                       selection="#{userBean.userSelected}"
                       rowKey="#{user.idUser}"
                       styleClass="table table-striped table-hover" >
              <p:ajax event="rowSelect"
                      listener="#{userBean.dtUserSelection}"/>
              <p:column selectionMode="single" style="width:16px;text-align:center"/>
              <p:column headerText="#{bundle['tableHeader.lastname']}">
                  <h:outputText value="#{user.lastname}" />
              </p:column>
              <p:column headerText="#{bundle['tableHeader.firstname']}">
                  <h:outputText value="#{user.firstname}" />
              </p:column>
          </p:dataTable>

         <h:commandButton type="submit" value="Submit"  action="#{userBean.updateAccountToUser}" class="btn btn-primary"/>
      </h:form>

   </ui:define>
</ui:composition>
</html>
